üåç Using AWS region: ca-central-1

üîç DEBUG: AWS::KMS::Key
Query: 
        {
          products(
            filter: {
              vendorName: "aws",
              service: "awskms",
              productFamily: "Encryption Key",
              region: "ca-central-1",
              attributeFilters: [
                { key: "usagetype", value: "ca-central-1-KMS-Keys" }
                
              ]
            }
          ) {
            prices(filter: {purchaseOption: "on_demand"}) { 
              USD 
              unit
              description
              startUsageAmount
              endUsageAmount
            }
          }
        }
        
Response: {
  "data": {
    "products": [
      {
        "prices": [
          {
            "USD": "1",
            "unit": "Keys",
            "description": "$1 per customer managed KMS key version in Canada (Central)",
            "startUsageAmount": "0",
            "endUsageAmount": "Inf"
          }
        ]
      }
    ]
  }
}

üîç DEBUG: AWS::EKS::Cluster
Query: 
        {
          products(
            filter: {
              vendorName: "aws",
              service: "AmazonEKS",
              productFamily: "Compute",
              region: "ca-central-1",
              attributeFilters: [
                { key: "usagetype", value: "EKS-Cluster-Standard-NotFound" }
                
              ]
            }
          ) {
            prices(filter: {purchaseOption: "on_demand"}) { 
              USD 
              unit
              description
              startUsageAmount
              endUsageAmount
            }
          }
        }
        
Response: {
  "data": {
    "products": []
  }
}

üîç DEBUG: AWS::Route53::HostedZone
Query: 
        {
          products(
            filter: {
              vendorName: "aws",
              service: "AmazonRoute53",
              productFamily: "DNS Zone",
              attributeFilters: [
                { key: "usagetype", value: "HostedZone" }
                
              ]
            }
          ) {
            prices(filter: {purchaseOption: "on_demand"}) { 
              USD 
              unit
              description
              startUsageAmount
              endUsageAmount
            }
          }
        }
        
Response: {
  "data": {
    "products": [
      {
        "prices": [
          {
            "USD": "0.5",
            "unit": "HostedZone",
            "description": "$0.50 per Hosted Zone for the first 25 Hosted Zones",
            "startUsageAmount": "0",
            "endUsageAmount": "25"
          },
          {
            "USD": "0.1",
            "unit": "HostedZone",
            "description": "$0.10 per Hosted Zone for additional Hosted Zones",
            "startUsageAmount": "25",
            "endUsageAmount": "Inf"
          }
        ]
      }
    ]
  }
}

üîç DEBUG: AWS::CloudWatch::Dashboard
Query: 
        {
          products(
            filter: {
              vendorName: "aws",
              service: "AmazonCloudWatch",
              productFamily: "Dashboard",
              region: "ca-central-1",
              attributeFilters: [
                { key: "usagetype", value: "Dashboard-NotFound" }
                
              ]
            }
          ) {
            prices(filter: {purchaseOption: "on_demand"}) { 
              USD 
              unit
              description
              startUsageAmount
              endUsageAmount
            }
          }
        }
        
Response: {
  "data": {
    "products": []
  }
}
# üí∞ CloudFormation Stack Cost Comparison
============================================================

## üìä Cost Impact Summary
üíµ **Current Monthly Cost**: $107.53
üí∞ **New Monthly Cost**: $234.42
üìà **Monthly Cost INCREASE**: $+126.89 (+118.0%)

## üîÑ Resource Changes Summary
‚ûï **Added**: 44 resources
‚ùå **Removed**: 26 resources
üîÑ **Modified**: 0 resources

## üìä Resource Type Comparison
+-------------------------+-----------+-------+----------+
|      Resource Type      |   Current |   New |   Change |
+=========================+===========+=======+==========+
| üí∞ Fixed Cost Resources  |         4 |    10 |       +6 |
+-------------------------+-----------+-------+----------+
| üìä Usage-Based Resources |         3 |    16 |      +13 |
+-------------------------+-----------+-------+----------+
|    üÜì Free Resources     |        19 |    18 |       -1 |
+-------------------------+-----------+-------+----------+

## üìã New Template Cost Breakdown
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| Resource Type                                | Resource ID           | Monthly Cost                               | Pricing Details                                   |
+==============================================+=======================+============================================+===================================================+
| üí∞ EC2::Instance                              | TestEC2Instance       | $8.47/month                                | $0.011600 per Hrs - $0.0116 per On Demand Linux   |
|                                              |                       |                                            | t3...                                             |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ EC2::Volume                                | TestEBSVolume         | $64.24/month                               | $0.088000 per GB-Mo - $0.088 per GB-month of      |
|                                              |                       |                                            | Gener...                                          |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ ElasticLoadBalancingV2::LoadBalancer       | TestALB               | $20.07/month                               | $0.027500 per Hrs - $0.0275 per LoadBalancer-hour |
|                                              |                       |                                            | ...                                               |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ RDS::DBInstance                            | TestRDSInstance       | $13.87/month                               | $0.019000 per Hrs - USD 0.019 per db.t3.micro     |
|                                              |                       |                                            | Sing...                                           |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ KMS::Key                                   | TestKMSKey            | $1.00/month                                | $1.000000 per Keys - $1 per customer managed KMS  |
|                                              |                       |                                            | k...                                              |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ SecretsManager::Secret                     | TestSecret            | $0.40/month                                | $0.400000 per Secrets - $0.40 per Secret          |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ EC2::NatGateway                            | TestNATGateway        | $36.50/month                               | $0.050000 per Hrs - $0.05 per NAT Gateway Hour    |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ ElastiCache::CacheCluster                  | TestElastiCacheClu... | $13.87/month                               | $0.019000 per Hrs - $0.019 per T3 Micro Cache     |
|                                              |                       |                                            | node...                                           |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ EKS::Cluster                               | TestEKSCluster        | $73.00/month                               | $0.10 per hour ($73/month) + worker node costs    |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üí∞ CloudWatch::Dashboard                      | TestDashboard         | $3.00/month                                | $3.00 per dashboard per month                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä EC2::EIP                                   | TestEIP               | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Hrs (first 1)                             |                       | $0.00000000 per Hrs                        | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Hrs (next Inf)                            |                       | $0.01 per Hrs                              | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä S3::Bucket                                 | TestS3Bucket          | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (first 51K)                         |                       | $0.03 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (next 460K)                         |                       | $0.02 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (next Inf)                          |                       | $0.02 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä Lambda::Function                           | TestLambdaFunction    | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Lambda-Gb-Second (first 6B)               |                       | $0.000017 per Lambda-GB-Second             | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Lambda-Gb-Second (next 9B)                |                       | $0.000015 per Lambda-GB-Second             | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Lambda-Gb-Second (next Inf)               |                       | $0.000013 per Lambda-GB-Second             | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä Logs::LogGroup                             | TestLogGroup          | Usage-based                                | $0.550000 per GB - $0.55 per GB custom log data   |
|                                              |                       |                                            | in...                                             |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä SNS::Topic                                 | TestSNSTopic          | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Requests (first 1M)                       |                       | $0.00 per 1M requests                      | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Requests (next Inf)                       |                       | $0.50 per 1M requests                      | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä SQS::Queue                                 | TestSQSQueue          | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Requests (first 1M)                       |                       | $0.00 per 1M requests                      | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Requests (next Inf)                       |                       | $0.50 per 1M requests                      | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä ApiGateway::RestApi                        | TestAPIGateway        | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Can1-Amazonapigatewayrequest (first 333M) |                       | $0.000003 per CAN1-AmazonApiGatewayRequest | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Can1-Amazonapigatewayrequest (next 667M)  |                       | $0.000003 per CAN1-AmazonApiGatewayRequest | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Can1-Amazonapigatewayrequest (next 19B)   |                       | $0.000003 per CAN1-AmazonApiGatewayRequest | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îî‚îÄ ... and 5 more tiers                      |                       | Varies                                     | See detailed breakdown below                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä DynamoDB::Table                            | TestDynamoDBTable     | Usage-based                                | On-demand or provisioned capacity pricing         |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä Route53::HostedZone                        | TestHostedZone        | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Hostedzone (first 25)                     |                       | $0.50 per HostedZone                       | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Hostedzone (next Inf)                     |                       | $0.10 per HostedZone                       | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä CloudWatch::Alarm                          | TestAlarm             | Usage-based                                | $0.100000 per Alarms - $0.10 per alarm metric     |
|                                              |                       |                                            | mont...                                           |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä StepFunctions::StateMachine                | TestStateMachine      | Usage-based                                | Standard and Express workflow pricing             |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä ECR::Repository                            | TestECRRepository     | Usage-based                                | Storage and data transfer pricing                 |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä EFS::FileSystem                            | TestEFSFileSystem     | Usage-based                                | $0.330000 per GB-Mo - USD $0.33 per GB-Mo for     |
|                                              |                       |                                            | Stan...                                           |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä CodeBuild::Project                         | TestCodeBuildProje... | Usage-based                                | Build minutes by compute type                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä S3::Bucket                                 | CloudTrailS3Bucket    | Usage-based                                | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (first 51K)                         |                       | $0.03 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (next 460K)                         |                       | $0.02 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| ‚îú‚îÄ Gb-Mo (next Inf)                          |                       | $0.02 per GB-Mo                            | Monthly cost depends on usage                     |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üìä CloudTrail::Trail                          | TestCloudTrail        | Usage-based                                | Management and data event pricing                 |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::VPC                                   | TestVPC               | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::Subnet                                | TestSubnet            | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::InternetGateway                       | TestInternetGatewa... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::VPCGatewayAttachment                  | AttachGateway         | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::RouteTable                            | TestRouteTable        | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::Route                                 | TestRoute             | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::SubnetRouteTableAssociation           | SubnetRouteTableAs... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::SecurityGroup                         | TestSecurityGroup     | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::Role                                  | TestRole              | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::InstanceProfile                       | TestInstanceProfil... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::Role                                  | LambdaRole            | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì RDS::DBSubnetGroup                         | TestRDSSubnetGroup    | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì EC2::Subnet                                | TestSubnet2           | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì ElastiCache::SubnetGroup                   | TestElastiCacheSub... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::Role                                  | EKSServiceRole        | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::Role                                  | StepFunctionsRole     | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì IAM::Role                                  | CodeBuildServiceRo... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+
| üÜì S3::BucketPolicy                           | CloudTrailS3Bucket... | Free                                       | This resource is free to use                      |
+----------------------------------------------+-----------------------+--------------------------------------------+---------------------------------------------------+

## üìä Detailed Tiered Pricing Information
Complete pricing tiers for usage-based resources:

### EC2::EIP (TestEIP)
**Tiered pricing with 2 tiers**

+--------+----------------+---------------------+
| Tier   | Usage Range    | Price               |
+========+================+=====================+
| Tier 1 | Hrs (first 1)  | $0.00000000 per Hrs |
+--------+----------------+---------------------+
| Tier 2 | Hrs (next Inf) | $0.01 per Hrs       |
+--------+----------------+---------------------+

### S3::Bucket (TestS3Bucket)
**Tiered pricing with 3 tiers**

+--------+-------------------+-----------------+
| Tier   | Usage Range       | Price           |
+========+===================+=================+
| Tier 1 | Gb-Mo (first 51K) | $0.03 per GB-Mo |
+--------+-------------------+-----------------+
| Tier 2 | Gb-Mo (next 460K) | $0.02 per GB-Mo |
+--------+-------------------+-----------------+
| Tier 3 | Gb-Mo (next Inf)  | $0.02 per GB-Mo |
+--------+-------------------+-----------------+

### Lambda::Function (TestLambdaFunction)
**Tiered pricing with 3 tiers**

+--------+-----------------------------+--------------------------------+
| Tier   | Usage Range                 | Price                          |
+========+=============================+================================+
| Tier 1 | Lambda-Gb-Second (first 6B) | $0.000017 per Lambda-GB-Second |
+--------+-----------------------------+--------------------------------+
| Tier 2 | Lambda-Gb-Second (next 9B)  | $0.000015 per Lambda-GB-Second |
+--------+-----------------------------+--------------------------------+
| Tier 3 | Lambda-Gb-Second (next Inf) | $0.000013 per Lambda-GB-Second |
+--------+-----------------------------+--------------------------------+

### SNS::Topic (TestSNSTopic)
**Tiered pricing with 2 tiers**

+--------+---------------------+-----------------------+
| Tier   | Usage Range         | Price                 |
+========+=====================+=======================+
| Tier 1 | Requests (first 1M) | $0.00 per 1M requests |
+--------+---------------------+-----------------------+
| Tier 2 | Requests (next Inf) | $0.50 per 1M requests |
+--------+---------------------+-----------------------+

### SQS::Queue (TestSQSQueue)
**Tiered pricing with 2 tiers**

+--------+---------------------+-----------------------+
| Tier   | Usage Range         | Price                 |
+========+=====================+=======================+
| Tier 1 | Requests (first 1M) | $0.00 per 1M requests |
+--------+---------------------+-----------------------+
| Tier 2 | Requests (next Inf) | $0.50 per 1M requests |
+--------+---------------------+-----------------------+

### ApiGateway::RestApi (TestAPIGateway)
**Tiered pricing with 8 tiers**

+--------+-------------------------------------------+--------------------------------------------+
| Tier   | Usage Range                               | Price                                      |
+========+===========================================+============================================+
| Tier 1 | Can1-Amazonapigatewayrequest (first 333M) | $0.000003 per CAN1-AmazonApiGatewayRequest |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 2 | Can1-Amazonapigatewayrequest (next 667M)  | $0.000003 per CAN1-AmazonApiGatewayRequest |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 3 | Can1-Amazonapigatewayrequest (next 19B)   | $0.000003 per CAN1-AmazonApiGatewayRequest |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 4 | Can1-Amazonapigatewayrequest (next Inf)   | $0.000002 per CAN1-AmazonApiGatewayRequest |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 5 | Requests (next 333M)                      | $3.50 per 1M requests                      |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 6 | Requests (next 667M)                      | $3.08 per 1M requests                      |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 7 | Requests (next 19B)                       | $2.62 per 1M requests                      |
+--------+-------------------------------------------+--------------------------------------------+
| Tier 8 | Requests (next Inf)                       | $1.66 per 1M requests                      |
+--------+-------------------------------------------+--------------------------------------------+

### Route53::HostedZone (TestHostedZone)
**Tiered pricing with 2 tiers**

+--------+-----------------------+----------------------+
| Tier   | Usage Range           | Price                |
+========+=======================+======================+
| Tier 1 | Hostedzone (first 25) | $0.50 per HostedZone |
+--------+-----------------------+----------------------+
| Tier 2 | Hostedzone (next Inf) | $0.10 per HostedZone |
+--------+-----------------------+----------------------+

### S3::Bucket (CloudTrailS3Bucket)
**Tiered pricing with 3 tiers**

+--------+-------------------+-----------------+
| Tier   | Usage Range       | Price           |
+========+===================+=================+
| Tier 1 | Gb-Mo (first 51K) | $0.03 per GB-Mo |
+--------+-------------------+-----------------+
| Tier 2 | Gb-Mo (next 460K) | $0.02 per GB-Mo |
+--------+-------------------+-----------------+
| Tier 3 | Gb-Mo (next Inf)  | $0.02 per GB-Mo |
+--------+-------------------+-----------------+

## üìù Notes
‚Ä¢ Fixed costs are predictable monthly charges
‚Ä¢ Usage-based costs depend on actual resource utilization
‚Ä¢ Tiered pricing means cost per unit decreases with higher usage
‚Ä¢ Free resources have no direct charges but may incur costs through usage
‚Ä¢ Estimates are based on current AWS pricing and may vary
